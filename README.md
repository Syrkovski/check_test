# Генератор квитанций

Минимальное веб‑приложение для генерации квитанций ИП без кассы. Работает целиком в браузере: сохраняет данные в `localStorage`, автоматически нумерует документы по формуле «день + номер за день», генерирует PDF по фиксированному шаблону и ведёт реестр выданных квитанций.

## Как запустить
1. Откройте файл `index.html` в браузере (двойной клик или `python -m http.server` в папке проекта).
2. При необходимости скорректируйте реквизиты продавца через кнопку «Изменить шаблон» в верхней секции — изменения сохраняются в браузере. Кнопка «Сбросить к файлу» возвращает значения из `vendor.json`.
3. При желании задайте принудительный день и номер будущего бланка — связка применится один раз, затем вернётся авто-нумерация. День подставляется текущий, но можно выбрать другой.
4. Заполните форму «Создать квитанцию»: укажите количество занятий и цену за 1 занятие; поля «Клиент», «Название услуги», «Основание платежа», «Способ оплаты» уже заполнены фиксированными значениями и при желании разблокируются кнопками «Изменить» справа. Дата и время подставляются автоматически на момент генерации, но их можно задать вручную внизу формы.
5. Нажмите «Создать PDF». Запись попадёт в реестр, номер сформируется автоматически (или по заданному значению), файл скачается. Для построения файла нужен доступ к интернету, чтобы подгрузить `jsPDF`.
6. Повторные загрузки PDF доступны из таблицы «Реестр квитанций». Реестр можно выгрузить в JSON или загрузить из файла через кнопки над таблицей.

## Что реализовано
- **Авто-нумерация:** день (YYYYMMDD) + порядковый номер за день, счётчик ежедневно сбрасывается.
- **Фиксированные поля:** дата/время (по умолчанию текущие, можно ввести вручную), клиент, название услуги, основание платежа, количество занятий, цена за занятие, сумма, способ оплаты, реквизиты ИП из файла `vendor.json`. Клиент («Физлицо»), название услуги («Оплата уроков по информатике онлайн»), основание платежа («Репетиторские услуги дополнительного обучения по информатике») и способ оплаты («безналичная (перевод по QR-коду на расчётный счёт ИП)») выводятся статично и редактируются по кнопке справа от поля «Изменить».
- **PDF:** квитанция с секциями «Продавец», «Покупатель», «Основание платежа», «Состав расчёта», «Оплата», «Подтверждение оплаты» по образцу: разделители вида `------`/`======`, формат даты `ДД.ММ.ГГГГ` и строка времени «за ЧЧ:ММ», встроенный шрифт для корректной кириллицы, кнопки «Скачать PDF» в реестре. В составе расчёта выводятся цена за занятие, количество и итоговая сумма.
- **Нумерация:** авто «день (YYYYMMDD) + порядковый номер за день» со сбросом по дате, плюс форма принудительного задания следующего дня и номера.
- **Реестр:** сохраняется в `localStorage`, отображает номер, дату/время, клиента, услугу, сумму, способ оплаты, даёт повторное скачивание PDF и удаление записей. Доступна выгрузка реестра в JSON и загрузка из файла.
- **Данные продавца:** вынесены в `vendor.json` и подгружаются при инициализации; дополнительно можно изменить их через встроенную форму (с сохранением в браузере) или сбросить к данным файла.

## Ограничения MVP
- Один пользователь, без аутентификации.
- Минималистичный дизайн: белый фон, чёрный текст, без адаптивной красоты.
- Данные хранятся только локально в браузере; при очистке локального хранилища история пропадает.
